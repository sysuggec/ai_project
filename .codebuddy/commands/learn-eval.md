---
description: 从会话中提取可复用模式，保存前自我评估质量，并确定正确的保存位置（全局 vs 项目）
---

# 学习评估命令

扩展 `/learn`，在写入任何技能文件之前添加质量门控和保存位置决策。

## 提取内容

寻找：

1. **错误解决模式** — 根本原因 + 修复 + 可复用性
2. **调试技术** — 非显而易见的步骤、工具组合
3. **变通方案** — 库特性、API限制、版本特定修复
4. **项目特定模式** — 约定、架构决策、集成模式

## 流程

1. 审查会话中的可提取模式
2. 识别最有价值/可复用的洞察

3. **确定保存位置：**
   - 问："此模式在其他项目中有用吗？"
   - **全局**（`~/.claude/skills/learned/`）：可在2+项目中使用的通用模式（bash兼容性、LLM API行为、调试技术等）
   - **项目**（当前项目的 `.claude/skills/learned/`）：项目特定知识（特定配置文件的特性、项目特定的架构决策等）
   - 不确定时，选择全局（全局→项目比反向移动更容易）

4. 使用以下格式起草技能文件：

```markdown
---
name: 模式名称
description: "130字符以内"
user-invocable: false
origin: auto-extracted
---

# [描述性模式名称]

**提取时间：** [日期]
**上下文：** [适用场景的简要描述]

## 问题
[解决什么问题 - 具体说明]

## 解决方案
[模式/技术/变通方案 - 包含代码示例]

## 使用时机
[触发条件]
```

5. **保存前自我评估**，使用此评分表：

   | 维度 | 1 | 3 | 5 |
   |------|---|---|---|
   | 具体性 | 只有抽象原则，无代码示例 | 有代表性代码示例 | 丰富示例覆盖所有使用模式 |
   | 可操作性 | 不清楚该做什么 | 主要步骤可理解 | 立即可操作，覆盖边缘情况 |
   | 范围适配 | 太宽或太窄 | 大部分合适，有些边界模糊 | 名称、触发和内容完美对齐 |
   | 非冗余性 | 几乎与另一技能相同 | 有些重叠但有独特视角 | 完全独特的价值 |
   | 覆盖度 | 只覆盖目标任务的一小部分 | 覆盖主要情况，缺少常见变体 | 覆盖主要情况、边缘情况和陷阱 |

   - 每个维度评分1-5
   - 如任何维度评分为1-2，改进草稿并重新评分，直到所有维度≥3
   - 向用户展示评分表和最终草稿

6. 请求用户确认：
   - 展示：建议的保存路径 + 评分表 + 最终草稿
   - 写入前等待明确确认

7. 保存到确定的位置

## 步骤5的输出格式（评分表）

| 维度 | 分数 | 说明 |
|------|------|------|
| 具体性 | N/5 | ... |
| 可操作性 | N/5 | ... |
| 范围适配 | N/5 | ... |
| 非冗余性 | N/5 | ... |
| 覆盖度 | N/5 | ... |
| **总计** | **N/25** | |

## 注意事项

- 不提取简单修复（拼写错误、简单语法错误）
- 不提取一次性问题（特定API停机等）
- 专注于能在未来会话中节省时间的模式
- 保持技能专注 — 每个技能一个模式
- 如覆盖度分数低，在保存前添加相关变体
